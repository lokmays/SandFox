<nav id="header" [style.height]="uiService.headerHeight+'px'">
	<div id="menu-mobile">
		<div class="p-3 mt-2 menu-btn" (click)="toggleMenu()">
			<ng-container *ngIf="!(menuToggle|async); else leftArrow">
				<i class="fas fa-bars fa-2x m-auto p-0"></i>
			</ng-container>
			<ng-template #leftArrow>
				<i class="fas fa-arrow-left fa-2x m-auto p-0"></i>
			</ng-template>
		</div>
		<a href="/">
			<img src="../../assets/icons/logo_sandfox.png" alt="">
			<span style="
					position: absolute;
					bottom: 0;
					font-size: 1rem;
				">BETA</span>
		</a>

	</div>
	<a href="#" class="navbar-brand ml-2">
		<img src="../../assets/icons/logo_sandfox.png" alt="">
		<span style="
			position: absolute;
			bottom: 0;
			font-size: 1rem;
		">BETA</span>
	</a>
	<nav class="tabs" [class.hidden]="!(menuToggle|async)">
		<div [routerLink]="['/dashboard']" routerLinkActive="active" id="dashboard">
			<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg"
				xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 142.8 110"
				style="enable-background:new 0 0 142.8 110;" xml:space="preserve">
				<path d="M122,0H21.1C9.5,0,0,11.2,0,24.9v60.2C0,98.8,9.4,110,21.1,110h100.6c11.6,0,21.1-11.2,21.1-24.9V24.9
        C142.9,11.5,133.5,0.3,122,0z M132.7,85.1c0,7.1-4.9,12.9-10.9,12.9H21.1c-6,0-10.9-5.8-10.9-12.9V24.9c0-7.1,4.9-12.9,10.9-12.9
        h100.8c6,0.2,10.8,5.9,10.8,12.9V85.1L132.7,85.1z" />
				<rect x="24" y="28.8" width="26.8" height="13" />
				<rect x="24" y="50.5" width="26.8" height="13" />
				<rect x="24" y="72.2" width="26.8" height="13" />
				<polygon points="97.6,34 86,65.3 74.9,48.6 64.3,75.5 64.3,85.5 122.3,85.5 122.3,24 111.7,43.5 " />
			</svg>

			<span>Dashboard</span>
		</div>
		<div id="alarms" [routerLink]="['/alarms']" routerLinkActive="active">

			<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
				x="0px" y="0px" viewBox="0 0 58.153 58.153" style="enable-background:new 0 0 58.153 58.153;"
				xml:space="preserve">
				<g>
					<path
						d="M40.076,29.153h-7.142c-0.364-1.399-1.459-2.494-2.858-2.858V16.153c0-0.553-0.448-1-1-1s-1,0.447-1,1v10.142
               c-1.72,0.447-3,1.999-3,3.858c0,2.206,1.794,4,4,4c1.858,0,3.411-1.28,3.858-3h7.142c0.552,0,1-0.447,1-1
               S40.629,29.153,40.076,29.153z M29.076,32.153c-1.103,0-2-0.897-2-2s0.897-2,2-2s2,0.897,2,2S30.179,32.153,29.076,32.153z" />
					<path
						d="M50.188,9.764l4.096,4.096c0.188,0.188,0.442,0.293,0.707,0.293s0.52-0.105,0.707-0.293c3.167-3.166,3.167-8.319,0-11.485
               s-8.319-3.166-11.485,0c-0.188,0.188-0.293,0.441-0.293,0.707s0.105,0.52,0.293,0.707l4.561,4.561l-1.699,1.699
               c-4.78-4.284-11.089-6.896-17.998-6.896s-13.218,2.612-17.998,6.896L9.379,8.35l4.561-4.561c0.188-0.188,0.293-0.441,0.293-0.707
               s-0.105-0.52-0.293-0.707c-3.166-3.166-8.318-3.166-11.485,0s-3.167,8.319,0,11.485c0.188,0.188,0.442,0.293,0.707,0.293
               s0.52-0.105,0.707-0.293l4.096-4.096l1.676,1.676c-4.679,4.857-7.565,11.453-7.565,18.713c0,9.898,5.357,18.564,13.321,23.265
               l-3.028,3.028c-0.391,0.391-0.391,1.023,0,1.414c0.195,0.195,0.451,0.293,0.707,0.293s0.512-0.098,0.707-0.293l3.45-3.45
               c3.578,1.754,7.597,2.743,11.843,2.743s8.265-0.989,11.843-2.743l3.45,3.45c0.195,0.195,0.451,0.293,0.707,0.293
               s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414l-3.028-3.028c7.964-4.701,13.321-13.367,13.321-23.265
               c0-7.26-2.886-13.856-7.565-18.713L50.188,9.764z M54.283,3.789c2.146,2.146,2.362,5.502,0.649,7.893l-8.541-8.542
               C48.781,1.427,52.136,1.642,54.283,3.789z M3.22,11.681C1.507,9.291,1.723,5.935,3.869,3.789s5.502-2.361,7.892-0.649L3.22,11.681z
                M29.076,55.153c-13.785,0-25-11.215-25-25s11.215-25,25-25s25,11.215,25,25S42.862,55.153,29.076,55.153z" />
					<path
						d="M29.076,10.032c0.552,0,1-0.447,1-1v-1c0-0.553-0.448-1-1-1s-1,0.447-1,1v1C28.076,9.584,28.524,10.032,29.076,10.032z" />
					<path
						d="M29.076,50.032c-0.552,0-1,0.447-1,1v1c0,0.553,0.448,1,1,1s1-0.447,1-1v-1C30.076,50.479,29.629,50.032,29.076,50.032z" />
					<path
						d="M50.076,31.032h1c0.552,0,1-0.447,1-1s-0.448-1-1-1h-1c-0.552,0-1,0.447-1,1S49.524,31.032,50.076,31.032z" />
					<path
						d="M8.076,29.032h-1c-0.552,0-1,0.447-1,1s0.448,1,1,1h1c0.552,0,1-0.447,1-1S8.629,29.032,8.076,29.032z" />
					<path d="M43.926,13.768l-0.707,0.707c-0.391,0.391-0.391,1.023,0,1.414c0.195,0.195,0.451,0.293,0.707,0.293
               s0.512-0.098,0.707-0.293l0.707-0.707c0.391-0.391,0.391-1.023,0-1.414S44.316,13.377,43.926,13.768z" />
					<path d="M13.52,44.174l-0.707,0.707c-0.391,0.391-0.391,1.023,0,1.414c0.195,0.195,0.451,0.293,0.707,0.293
               s0.512-0.098,0.707-0.293l0.707-0.707c0.391-0.391,0.391-1.023,0-1.414S13.911,43.784,13.52,44.174z" />
					<path d="M44.633,44.174c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414l0.707,0.707c0.195,0.195,0.451,0.293,0.707,0.293
               s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L44.633,44.174z" />
					<path d="M14.227,13.768c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414l0.707,0.707c0.195,0.195,0.451,0.293,0.707,0.293
               s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L14.227,13.768z" />
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
				<g>
				</g>
			</svg>
			<span>Alarmes</span>
		</div>
		<!-- <div id="interventions" [routerLink]="['/interventions']" routerLinkActive="active">
            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="424.488px" height="424.488px" viewBox="0 0 424.488 424.488" style="enable-background:new 0 0 424.488 424.488;fill:#133342"
                xml:space="preserve">

                <g id="iconos_59_">
                    <path d="M322.954,278.833c12.995,2.343,27.874-10.834,34.004-30.839c2.993-9.773,3.271-19.345,1.453-27.263
			c-10.098,5.192-21.927,10.566-35.218,15.635c-5.365,2.046-10.959,4.006-16.792,5.891c-28.229,9.094-61.688,15.931-99.144,15.931
			c-36.605,0-69.338-7.277-97.06-17.126c-6.225-2.209-12.145-4.543-17.834-6.962c-12.393-5.269-23.61-10.863-33.268-16.343
			c-2.677,8.415-2.716,19.202,0.669,30.237c5.977,19.526,20.301,32.531,33.067,30.973c0.641,23.811,2.075,45.432,5.068,51.838
			c7.574,16.237,72.513,85.164,82.075,89.945s57.375,5.183,65.742,0s67.731-72.713,73.507-89.945
			C321.491,324.025,322.523,302.481,322.954,278.833z" />
                    <g>
                        <path d="M380.339,143.438c-5.9,9.562-19.986,23.629-51.322,36.787c-0.603,0.249-7.335,3.184-9.419-2.19
				c-2.295-5.9,1.31-9.715,3.748-10.729c30.734-12.9,33.728-25.953,38.24-32.063c-5.039-19.498-18.111-79.904-96.753-104.489
				v112.685c0,15.816-12.871,28.688-28.688,28.688h-47.812c-15.816,0-28.688-12.871-28.688-28.688V30.332
				c-66.852,19.135-90.423,79.771-97.088,106.029c0.258,0.287,0.545,0.555,0.727,0.908c0.029,0.058,0.363,0.641,1.033,1.578
				c3.385,4.762,16.18,19.813,51.102,34.482c2.438,1.014,5.451,5.269,2.543,11.36c-3.29,6.875-8.367,4.858-8.969,4.609
				c-31.595-13.263-46.35-28.707-52.699-36.28H25.771v20.32c0,0,16.811,14.468,45.422,29.826c6.521,3.5,13.607,7.019,21.315,10.451
				c2.601,1.157,5.269,2.305,8.004,3.434c29.356,12.087,65.828,22.013,106.947,22.013c41.186,0,91.819-14.22,121.195-24.996
				c2.897-1.062,5.747-2.143,8.501-3.232c9.477-3.768,15.854-7.669,23.505-11.465c25.569-12.699,38.059-24.059,38.059-24.059
				v-31.872H380.339z" />
                        <path d="M188.333,153h47.812c5.278,0,9.562-4.284,9.562-9.562V25.828V9.562c0-5.278-4.284-9.562-9.562-9.562h-47.812
				c-5.278,0-9.562,4.284-9.562,9.562v17.681v116.194C178.771,148.716,183.055,153,188.333,153z" />
                    </g>
                </g>

            </svg>

            <span>Interventions</span>
        </div> -->
		<div [routerLink]="['/notifications']" routerLinkActive="active">
			<ng-container *ngIf="(!notifStatus); else alarmBell">
				<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="511.63px" height="511.63px"
					viewBox="0 0 511.63 511.63" style="enable-background:new 0 0 511.63 511.63" xml:space="preserve">
					<g>
						<path
							d="M411.404,288.506c-18.455-45.014-27.685-92.455-27.685-142.325c0-31.405-9.131-56.337-27.398-74.802
          c-18.28-18.464-43.406-29.602-75.383-33.407c1.52-3.424,2.279-6.945,2.279-10.562c0-7.614-2.663-14.091-7.991-19.416
          C269.898,2.663,263.427,0,255.812,0c-7.61,0-14.083,2.663-19.414,7.994c-5.33,5.329-7.993,11.802-7.993,19.416
          c0,3.617,0.76,7.135,2.285,10.562c-31.977,3.809-57.103,14.942-75.375,33.407c-18.271,18.464-27.406,43.396-27.406,74.802
          c0,49.87-9.229,97.311-27.694,142.325c-18.464,45.015-45.776,82.847-81.942,113.492c0,9.896,3.617,18.463,10.85,25.693
          c7.232,7.231,15.796,10.852,25.697,10.852h127.907c0,20.178,7.135,37.404,21.411,51.675c14.277,14.273,31.504,21.412,51.678,21.412
          c20.177,0,37.404-7.139,51.675-21.412c14.273-14.271,21.412-31.497,21.412-51.675H456.81c9.897,0,18.47-3.613,25.694-10.852
          c7.234-7.23,10.852-15.797,10.852-25.693C457.196,371.353,429.881,333.521,411.404,288.506z M255.816,488.787
          c-13.894,0-25.747-4.896-35.548-14.698c-9.801-9.804-14.703-21.658-14.703-35.553c0-3.046,1.524-4.568,4.568-4.568
          c3.046,0,4.57,1.522,4.57,4.568c0,11.231,4.043,20.889,12.132,28.982c8.091,8.094,17.749,12.135,28.98,12.135
          c3.046,0,4.575,1.53,4.575,4.569C260.392,487.268,258.862,488.787,255.816,488.787z M70.523,401.998
          c31.217-34.454,54.674-73.614,70.376-117.486s23.557-89.982,23.557-138.327c0-48.727,30.452-73.089,91.36-73.089
          c60.907,0,91.361,24.362,91.361,73.089c0,48.345,7.851,94.455,23.555,138.327c15.697,43.875,39.167,83.032,70.38,117.486H70.523z" />
					</g>
				</svg>
			</ng-container>
			<span>Notifications</span>
		</div>
		<ng-container *ngIf="authService.user|async; let user">
			<ng-container *ngIf="user.role=='administrator'">
				<div [routerLink]="['/administration']" routerLinkActive="active">
					<i class="fas fa-users-cog fa-2x m-auto pb-1"></i>
					<span>Administration</span>
				</div>
			</ng-container>
		</ng-container>
	</nav>
	<div *ngIf="!(this.authService.user|async)" class="user row mr-2">
		<div [routerLink]="['/login']" routerLinkActive="active" class="btn btn-primary mr-2">Se connecter <i
				class="fas fa-sign-in-alt"></i></div>
		<!-- <div [routerLink]="['/register']" routerLinkActive="active" class="btn btn-primary mr-2">Créer un compte</div> -->
	</div>
	<div class=" user row mr-2 d-inline-flex align-items-center" *ngIf="this.authService.user|async; let user">
		<span class="username">
			{{(user.first_name +' '+user.last_name)| titlecase}}</span>

		<button class="fas-container" title="se déconnecter">
			<i class="fas fa-sign-out-alt" (click)=" this.authService.logout()"></i>
		</button>
		<!-- Settings -->

		<div (click)=" toggleSettings() " class="dropdown">
			<button type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
				aria-expanded="false" title="paramètres">
				<div class="fas-container">
					<i class="fas fa-cog"></i>
				</div>
			</button>
			<div class="dropdown-menu" aria-labelledby="dropdownMenuButton"
				[style.display]="(_settings|async) ? 'block': 'none'" [style.left]="'-5.75rem'">
				<a href="#" class="dropdown-item" aria-labelledby="dropdownMenuButton">paramètres</a>
				<a href="#" class="dropdown-item">à propos</a>
				<a href="#" class="dropdown-item">nous contacter</a>
			</div>
			<div class=" mask " *ngIf=" _settings|async " (click)=" toggleSettings() "></div>
		</div>
	</div>

</nav>

<ng-template #alarmBell>
	<img src="../../assets/icons/bell-alarm.svg" alt="">
</ng-template>